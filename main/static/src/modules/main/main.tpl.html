<div class="container">
    <!-- Modals -->
    <div class="modal fade" tabindex="-1" role="dialog" id="loginModal" ng-controller="loginCtrl as ctrl">
        <div class="container">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button id="id_button_close" type="button" class="close" data-dismiss="modal" aria-label="Close" ><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Iniciar Sesión</h4>
              </div>
              <div class="modal-body">
                  <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <div class="page-header">

                <div class="alert alert-danger" ng-if="error">
                    Usuario y/o Contraseña Invalida
                </div>

                    <div class="form-group">
                        <label class="control-label" for="username">Username:</label>
                        <input type="text" id="username" name="username" class="form-control" ng-model="user.username">
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="password">Password:</label>
                        <input type="password" id="password" name="password" class="form-control" ng-model="user.password">
                    </div>

                <button type="submit" class="btn btn-primary" ng-click="ctrl.logIn()">Iniciar Sesión</button>
            </div>
            </div>
        </div>
    </div>
</div>
</div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
</div><!-- /.modal -->

    <div class="modal fade" tabindex="-1" role="dialog" id="shoppingItemsModal" ng-controller="shoppingItemsCtrl as ctrl" ng-init="ctrl.getShoppingItems()">
        <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Productos</h4>
              </div>
              <div class="modal-body">
                  <div id="cart-sidebar" class="cart-sidebar">
                      <div  class="cart-wrapper col-sm-12">
                        <div class="cart-items" ng-repeat="record in shoppingItems">
                            <div class="cart-item-div ng-scope" ng-repeat="product in record.products ">
                                <div class="qty cart-item-cell">{{ record.quantity }}</div>
                                <div class="image cart-item-cell">
                                   <img ng-src="{{ product.image_url }}" style="margin:auto; height: 300px; width: 100%" alt="{{ product.name }}">
                                </div>
                                <div class="name cart-item-cell">
                                    <div>{{ product.name }}</div>
                                    <small>{{ product.unit_value }} {{ product.unit_name }}</small>
                                </div>
                                <div class="price cart-item-cell">
                                    <label>{{ record.quantity * product.price | currency:undefined:0}} </label>
                                </div>
                                <div class="remove-cart cart-item-cell">
                                    <i class="fa fa-times"></i>
                                </div>
                            </div>
                            <div class="cart-item-div ng-scope" ng-repeat="basket in record.baskets ">
                                <div class="qty cart-item-cell">{{ record.quantity }}</div>
                                <div class="image cart-item-cell">
                                    <img ng-src="http://www.frutasluisi.eu/wp-content/uploads/2014/04/05-frutas-luisi.jpg" style="margin:auto; height: 300px; width: 100%" alt="{{ basket.name }}">

                                </div>
                                <div class="name cart-item-cell">
                                    <div>{{ basket.name }}</div>
                                    <small>{{ record.price  | currency:undefined:0  }} c/u </small>
                                </div>
                                <div class="price cart-item-cell">
                                    <label>{{ record.quantity * record.price | currency:undefined:0 }}</label>
                                </div>
                                <div class="remove-cart cart-item-cell">
                                    <i class="fa fa-times"></i>
                                </div>

                            </div>
                        </div>
                      </div>
                    <div class="cart-options"></div>
                  </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary"><span class="glyphicon glyphicon-plus"></span>Pagar</button>
              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->

    </div>
    <!-- Header -->
    <header style="font-size:8px height:300px">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">

                    <div class="intro-text">
                        <span class="name">MarketPlace Orgánico</span>
                        <hr class="star-light">
                        <span class="skills">Tu lugar favorito</span>
                    </div>
                </div>
            </div>
        </div>
    </header>


    <!-- Section -->
    <div align="center" class="container" ng-controller="productsCtrl as ctrl" ng-init="ctrl.getProducts()">
    <div align="center">
        <img align="center" id="mySpinner" src="static/src/modules/main/img/spinner.gif" ng-show="loading"/>
    </div>

    <div class="col-sm-12">
        <div class="row" style="margin-top: 10px;">
                <div class="input-group">
                    <input type="text" class="form-control" name="q" placeholder="Buscar productos" ng-model="search" style="width: 52%; left: 25%"/>
                        <span class="input-group-btn">
                            <button class="btn btn-success" type="button" style="right: 250%"><i class="fa fa-search"> Buscar</i></button>
                        </span>
                </div>
            <br/>
                <label>Productos certíficados
                <input type="checkbox" ng-model="certified" ng-change="ctrl.getProducts()">
                <br/><br/>
            </div>
        </div>
        <pagination ng-model="currentPage" total-items="products.length" max-size="maxSize" boundary-links="true"/>
        <div ng-repeat="product in filteredProducts | filter: search">
            <div class="col-md-4 col-sm-6 col-lg-4 well" style="padding: 5px;">
                <div class="caption">
                    <h4 align="center"><strong>{{ product.name }}</strong></h4>
                    <img ng-src="{{ product.image_url }}" style="margin:auto; height: 280px; width: 90%"
                         alt="{{ product.name }}">
                    <div class="caption">
                        <h2><strong>{{ product.price | currency:undefined:0}}</strong></h2>
                        <h4>
                            <small>{{ product.unit_value }} {{ product.unit_name }}</small>
                        </h4>
                    </div>
                    <p>
                        <button type="button" class="btn btn-success" data-toggle="modal" data-target="#myModal" ng-click="ctrl.getDetails( product.id )"><strong>VER DETALLE</strong></button>
                    </p>
                </div>
            </div>
        </div>
        <div class="modal fade" tabindex="-1" role="dialog" id="myModal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="ctrl.initDetails()"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">{{ details.name }}</h4>
              </div>
              <div class="modal-body">
                  <img ng-src="{{ details.image_url }}"
                         alt="{{ details.name }}">
                    <div class="caption">
                        <h2><strong>{{ details.price | currency:undefined:0}}</strong></h2>
                        <h4>
                            <small>{{ details.unit_value }} {{ details.unit_name }}</small>
                        </h4>
                        <div class="descripcion">
                            <h5><small>{{ details.description}}</small></h5>
                        </div>
                        <h4><strong>Stock: {{ details.quantity*details.unit_value }} {{ details.unit_name}}</strong></h4>
                    </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="ctrl.initDetails()"><span class="glyphicon glyphicon-remove"></span> Cerrar</button>
                <button type="button" class="btn btn-primary" ng-controller="shoppingItemsCtrl as ctrl" ng-click="ctrl.addProduct(details.id, 'product')"><span class="glyphicon glyphicon-plus"></span>Agregar</button>
              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->

</div>

    <!-- Footer -->
    <footer class="text-center">
        <div class="footer-above">
            <div class="container">
                <div class="row">
                    <div class="footer-col col-md-4">
                        <h3>Ubicación</h3>
                        <p>Grupo 5</p>
                        <p>Universidad de los Andes, Bogotá - Colombia</p>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>Qué pasa en Twitter</h3>
                        <div id="twitter">
                            <a class="twitter-timeline" href="https://twitter.com/MpOrganico"
                                data-widget-id="708478944547311616">Tweets by @MpOrganico</a>
                        </div>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>Autores</h3>
                        <p>Catherine Velandia<br>Alejandro Pérez<br>Andrés Delgado<br>Abimelec Cuesta<br>Mario Lancheros</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        Copyright &copy; Marketing Orgánico 2016
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-top page-scroll visible-xs visible-sm">
        <a class="btn btn-primary" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>


    <!-- Twitter-->
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    <script id="twitter-wjs" type="text/javascript" async defer src="//platform.twitter.com/widgets.js">
        twttr.widgets.load()
    </script>

